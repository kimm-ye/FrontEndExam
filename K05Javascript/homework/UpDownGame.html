<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UpDownGame.html</title>
    <script>
    var com = parseInt(Math.random()*100)+1;
    alert("난수생성:" + com);

    var gameCount = 0; //시도횟수

    function numCheck(){
        var num = document.getElementById("inputNum");
        var inNum = parseInt(num.value); //입력값 숫자로 변경

        var img = document.getElementsByTagName("img");
        var countNum = document.getElementById("count");
                
        if(inNum<1 || inNum>100 || isNaN(inNum)==true){ //1~100 그리고 숫자가 아닌경우
            img[0].src = "/images/error.jpg";
            alert("1~100 사이의 정수를 입력해주세요");
            num.value='';
            num.focus();
            return false;
        }
        
        if(com > inNum){ //컴퓨터 숫자가 더 클때
            img[0].src = "/images/up.jpg"; 
            num.focus();
            gameCount++;
            countNum.innerHTML = gameCount;
        }
        else if(com < inNum){ 
            img[0].src = "/images/down.jpg";
            num.focus();
            gameCount++;
            countNum.innerHTML = gameCount;
        }
        else{
            alert("정답입니다!!")
            document.getElementById("refreshBtn").style.display="inline";
            img[0].src = "/images/answer.jpeg";
        }
        
        if(gameCount>=7){
            alert("최대 시도횟수(7회)를 초과하였습니다. 게임을 재시작합니다.");
            location.reload();
        }
    }

    function refresh(){
        location.reload();
    }
    </script>
</head>
<body>
    <h2>업다운 게임</h2>
    <h3>1~100사이의 숫자를 입력하세요</h3>
    <h3>시도횟수: <span style="font-size: 50px;" id="count">0</span>회</h3>
    <div style="font-size: 17px;">숫자입력: 
        <input type="number" name="inputNum" id="inputNum" style="width: 50px;">
        <button type="button" onclick="numCheck();">확인</button>
        <button type="button" onclick="refresh();" id="refreshBtn" style="display: none;">새로고침</button>
    </div>
    <img src="/images/updowngame.jpg" alt="resultImg" style="width:200px; height:180px;">
</body>
</html>